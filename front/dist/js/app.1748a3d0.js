(function(e){function t(t){for(var r,i,a=t[0],c=t[1],u=t[2],l=0,d=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);h&&h(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var a=n[i];0!==o[a]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},o={app:0},s=[];function a(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-10cf3a28":"332ce730","chunk-2d22ce66":"232acacd","chunk-3104d895":"22436a1c","chunk-3dacd396":"cc276382","chunk-4b15cef0":"adfd7b6b","chunk-4b71a822":"9d946dff","chunk-590816fd":"13c73905","chunk-876195c4":"5f90ddec","chunk-8ae097a8":"11fae92c","chunk-cda9ee92":"823f603c","chunk-deddea6c":"ee800358","chunk-f3bbfc64":"c412b477"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-10cf3a28":1,"chunk-3104d895":1,"chunk-3dacd396":1,"chunk-4b15cef0":1,"chunk-590816fd":1,"chunk-876195c4":1,"chunk-8ae097a8":1,"chunk-cda9ee92":1,"chunk-deddea6c":1,"chunk-f3bbfc64":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-10cf3a28":"6ae4eee6","chunk-2d22ce66":"31d6cfe0","chunk-3104d895":"df86a3e5","chunk-3dacd396":"946de100","chunk-4b15cef0":"7de2d094","chunk-4b71a822":"31d6cfe0","chunk-590816fd":"3d8084a7","chunk-876195c4":"dc2083d2","chunk-8ae097a8":"ae0b1e4e","chunk-cda9ee92":"dbfaece4","chunk-deddea6c":"7ccf3543","chunk-f3bbfc64":"5843d37b"}[e]+".css",o=c.p+r,s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var u=s[a],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){u=d[a],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete i[e],h.parentNode.removeChild(h),n(s)},h.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){i[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=a(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,n[1](d)}o[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09c7":function(e,t,n){},1:function(e,t){},"1fb4":function(e,t,n){"use strict";var r=n("2a98"),i=n.n(r);i.a},2391:function(e,t,n){"use strict";var r=n("e0ff"),i=n.n(r);i.a},"2a98":function(e,t,n){},4360:function(e,t,n){"use strict";var r=n("2b0e"),i=n("2f62"),o=(n("96cf"),n("1da1")),s=n("c1fb"),a=function(e){var t={headers:{Authorization:"JWT ".concat(e)}};return s["a"].post("/api/accounts/user/",{},t).then((function(e){var t=e.data;return t})).catch((function(e){return e.response}))},c={loginCheck:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},u=n("04e1"),l=n.n(u),d={token:null,userInfo:null},h={setToken:function(e,t){e.token=t},setUserInfo:function(e,t){e.userInfo=t}},f={login:function(e,t){e.commit("setToken",t)},logout:function(e){e.commit("setToken",null)},loginCheck:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.loginCheck(t);case 2:r=n.sent,e.commit("setUserInfo",r);case 4:case"end":return n.stop()}}),n)})))()}},p={options:function(e){return{headers:{Authorization:"JWT ".concat(e.token)}}},user:function(e){return l()(e.token).user_id},getUserInfo:function(e){return e.userInfo}},m={state:d,mutations:h,actions:f,getters:p},v=(n("4de4"),n("d81d"),{questionList:null,questionType:null,questionCategory:null,answerList:[]}),g={setQuestionList:function(e,t){e.questionList=t},setQuestionType:function(e,t){e.questionType=t},setQuestionCategory:function(e,t){e.questionCategory=t}},b={questionList:function(e,t){e.commit("setQuestionList",t)},questionType:function(e,t){e.commit("setQuestionType",t)},questionCategory:function(e,t){e.commit("setQuestionCategory",t)}},y={questionList:function(e){return e.questionList},questionType:function(e){return e.questionType},questionCategory:function(e){return e.questionCategory},answerList:function(e){return e.questionList.map((function(e){return e.answers})).map((function(e){return e.filter((function(e){return e.a_correct})).map((function(e){return e.a_value}))}))}},_={state:v,mutations:g,actions:b,getters:y};r["a"].use(i["a"]);t["a"]=new i["a"].Store({modules:{auth:m,question:_}})},"45ff":function(e,t,n){},"4a3a":function(e,t,n){},5423:function(e,t,n){"use strict";var r=n("e68c"),i=n.n(r);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},o=[],s={data:function(){return{}},methods:{}},a=s,c=n("2877"),u=Object(c["a"])(a,i,o,!1,null,null,null),l=u.exports,d=n("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var h=n("a18c"),f=n("4360"),p=n("0628"),m=n.n(p),v=n("d36c"),g=n("28dd"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ar-player"},[n("div",{staticClass:"ar-player-actions"},[n("icon-button",{staticClass:"ar-icon ar-icon__lg ar-player__play",class:{"ar-player__play--active":e.isPlaying},attrs:{id:"play",name:e.playBtnIcon},nativeOn:{click:function(t){return e.playback(t)}}})],1),n("div",{staticClass:"ar-player-bar"},[n("div",{staticClass:"ar-player__time"},[e._v(e._s(e.playedTime))]),n("line-control",{staticClass:"ar-player__progress",attrs:{"ref-id":"progress",percentage:e.progress},on:{"change-linehead":e._onUpdateProgress}}),n("div",{staticClass:"ar-player__time"},[e._v(e._s(e.duration))]),n("volume-control",{on:{"change-volume":e._onChangeVolume}})],1),n("audio",{attrs:{id:e.playerUniqId,src:e.audioSource}})])},y=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{domProps:{innerHTML:e._s(e.icons[e.name])}})},w=[],k={props:{name:{type:String}},data:function(){return{icons:{download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}}}},R=k,C=Object(c["a"])(R,_,w,!1,null,null,null),B=C.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:e.refId,staticClass:"ar-line-control",on:{mousedown:e.onMouseDown}},[n("div",{staticClass:"ar-line-control__head",style:e.calculateSize})])},U=[];n("99af"),n("a9e3");function x(e,t){var n=t.getBoundingClientRect().width,r=e.target.getBoundingClientRect().left,i=(e.clientX-r)/n;return i=i<0?0:i,i=i>1?1:i,i}function M(e){return new Date(1e3*e).toISOString().substr(14,5)}var L={props:{refId:{type:String},eventName:{type:String},percentage:{type:Number,default:0},rowDirection:{type:Boolean,default:!0}},methods:{onMouseDown:function(e){var t=x(e,this.$refs[this.refId]);this.$emit("change-linehead",t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp:function(e){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);var t=x(e,this.$refs[this.refId]);this.$emit("change-linehead",t)},onMouseMove:function(e){var t=x(e,this.$refs[this.refId]);this.$emit("change-linehead",t)}},computed:{calculateSize:function(){var e=this.percentage<1?100*this.percentage:this.percentage;return"".concat(this.rowDirection?"width":"height",": ").concat(e,"%")}}},O=L,T=(n("2391"),Object(c["a"])(O,S,U,!1,null,null,null)),P=T.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ar-volume"},[n("icon-button",{staticClass:"ar-volume__icon",attrs:{name:"volume"}}),n("line-control",{staticClass:"ar-volume-bar",attrs:{"ref-id":"volume",percentage:e.volume},on:{"change-linehead":e.onChangeLinehead}})],1)},E=[],I={data:function(){return{volume:.8}},components:{IconButton:B,LineControl:P},methods:{onChangeLinehead:function(e){this.$emit("change-volume",e),this.volume=e}}},$=I,z=(n("5ab8"),Object(c["a"])($,j,E,!1,null,null,null)),F=z.exports,A={props:{src:{type:String},record:{type:Object},filename:{type:String}},data:function(){return{isPlaying:!1,duration:M(0),playedTime:M(0),progress:0}},components:{IconButton:B,LineControl:P,VolumeControl:F},mounted:function(){var e=this;this.player=document.getElementById(this.playerUniqId),this.player.addEventListener("ended",(function(){e.isPlaying=!1})),this.player.addEventListener("loadeddata",(function(t){e._resetProgress(),e.duration=M(e.player.duration)})),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.$eventBus.$on("remove-record",(function(){e._resetProgress()}))},computed:{audioSource:function(){var e=this.src||this.record.url;return e||this._resetProgress()},playBtnIcon:function(){return this.isPlaying?"pause":"play"},playerUniqId:function(){return"audio-player".concat(this._uid)}},methods:{playback:function(){var e=this;this.audioSource&&(this.isPlaying?this.player.pause():setTimeout((function(){e.player.play()}),0),this.isPlaying=!this.isPlaying)},_resetProgress:function(){this.isPlaying&&this.player.pause(),this.duration=M(0),this.playedTime=M(0),this.progress=0,this.isPlaying=!1},_onTimeUpdate:function(){this.playedTime=M(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100},_onUpdateProgress:function(e){e&&(this.player.currentTime=e*this.player.duration)},_onChangeVolume:function(e){e&&(this.player.volume=e)}}},q=A,H=(n("1fb4"),Object(c["a"])(q,b,y,!1,null,null,null)),D=H.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ar"},[e.isUploading?n("div",{staticClass:"ar__overlay"}):e._e(),e.isUploading?n("div",{staticClass:"ar-spinner"},[n("div",{staticClass:"ar-spinner__dot"}),n("div",{staticClass:"ar-spinner__dot"}),n("div",{staticClass:"ar-spinner__dot"})]):e._e(),n("div",{staticClass:"ar-content",class:{ar__blur:e.isUploading}},[n("div",{staticClass:"ar-recorder"},[n("icon-button",{staticClass:"ar-icon ar-icon__lg",class:{"ar-icon--rec":e.isRecording,"ar-icon--pulse":e.isRecording&&e.volume>.02},attrs:{name:e.iconButtonType},nativeOn:{click:function(t){return e.toggleRecorder(t)}}}),n("icon-button",{staticClass:"ar-icon ar-icon__sm ar-recorder__stop",attrs:{name:"stop"},nativeOn:{click:function(t){return e.stopRecorder(t)}}})],1),e.attempts?n("div",{staticClass:"ar-recorder__records-limit"},[e._v("Attempts: "+e._s(e.attemptsLeft)+"/"+e._s(e.attempts))]):e._e(),n("div",{staticClass:"ar-recorder__duration"},[e._v(e._s(e.recordedTime))]),e.time?n("div",{staticClass:"ar-recorder__time-limit"},[e._v("Record duration is limited: "+e._s(e.time)+"m")]):e._e(),n("div",{staticClass:"ar-records"},e._l(e.recordList,(function(t,r){return n("div",{key:t.id,staticClass:"ar-records__record",class:{"ar-records__record--selected":t.id===e.selected.id},on:{click:function(n){return e.choiceRecord(t)}}},[t.id===e.selected.id?n("div",{staticClass:"ar__rm",on:{click:function(t){return e.removeRecord(r)}}},[e._v("×")]):e._e(),n("div",{staticClass:"ar__text"},[e._v("Record "+e._s(r+1))]),n("div",{staticClass:"ar__text"},[e._v(e._s(t.duration))]),t.id===e.selected.id&&e.showDownloadButton?n("downloader",{staticClass:"ar__downloader",attrs:{record:t,filename:e.filename}}):e._e(),t.id===e.selected.id&&e.showUploadButton?n("uploader",{staticClass:"ar__uploader",attrs:{record:t,filename:e.filename,headers:e.headers,"upload-url":e.uploadUrl}}):e._e()],1)})),0),n("audio-player",{attrs:{record:e.selected}})],1)])},V=[],Q=(n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("icon-button",{staticClass:"ar-icon ar-icon__xs ar-icon--no-border",attrs:{id:"download",name:"download"},nativeOn:{click:function(t){return e.download(t)}}})}),J=[],W=(n("ac1f"),n("1276"),{props:{record:{type:Object},filename:{type:String}},components:{IconButton:B},methods:{download:function(){if(this.record.url){var e=this.record.blob.type.split("/")[1],t=document.createElement("a");t.href=this.record.url,t.download="".concat(this.filename,".").concat(e),t.click()}}}}),K=W,X=(n("5423"),Object(c["a"])(K,Q,J,!1,null,null,null)),G=X.exports,Y=(n("4160"),n("fb6a"),n("b680"),n("d3b7"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("d4ec")),Z=n("bee2"),ee=(n("3ca3"),n("fd87"),n("8b09"),n("ddb0"),n("2b3d"),n("db3f")),te=function(){function e(t){Object(Y["a"])(this,e),this.bitRate=t.bitRate,this.sampleRate=t.sampleRate,this.dataBuffer=[],this.encoder=new ee["Mp3Encoder"](1,this.sampleRate,this.bitRate)}return Object(Z["a"])(e,[{key:"encode",value:function(e){for(var t=1152,n=this._convertBuffer(e),r=n.length,i=0;r>=0;i+=t){var o=n.subarray(i,i+t),s=this.encoder.encodeBuffer(o);this.dataBuffer.push(new Int8Array(s)),r-=t}}},{key:"finish",value:function(){this.dataBuffer.push(this.encoder.flush());var e=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:e,url:URL.createObjectURL(e)}}},{key:"_floatTo16BitPCM",value:function(e,t){for(var n=0;n<e.length;n++){var r=Math.max(-1,Math.min(1,e[n]));t[n]=r<0?32768*r:32767*r}}},{key:"_convertBuffer",value:function(e){var t=new Float32Array(e),n=new Int16Array(e.length);return this._floatTo16BitPCM(t,n),n}}]),e}(),ne=(n("c19f"),n("4a9b"),function(){function e(t){Object(Y["a"])(this,e),this.bufferSize=t.bufferSize||4096,this.sampleRate=t.sampleRate,this.samples=t.samples}return Object(Z["a"])(e,[{key:"finish",value:function(){this._joinSamples();var e=new ArrayBuffer(44+2*this.samples.length),t=new DataView(e);this._writeString(t,0,"RIFF"),t.setUint32(4,36+2*this.samples.length,!0),this._writeString(t,8,"WAVE"),this._writeString(t,12,"fmt "),t.setUint32(16,16,!0),t.setUint16(20,1,!0),t.setUint16(22,1,!0),t.setUint32(24,this.sampleRate,!0),t.setUint32(28,4*this.sampleRate,!0),t.setUint16(32,4,!0),t.setUint16(34,16,!0),this._writeString(t,36,"data"),t.setUint32(40,2*this.samples.length,!0),this._floatTo16BitPCM(t,44,this.samples);var n=new Blob([t],{type:"audio/wav"});return{id:Date.now(),blob:n,url:URL.createObjectURL(n)}}},{key:"_floatTo16BitPCM",value:function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}},{key:"_joinSamples",value:function(){for(var e=this.samples.length*this.bufferSize,t=new Float64Array(e),n=0,r=0;r<this.samples.length;r++){var i=this.samples[r];t.set(i,n),n+=i.length}this.samples=t}},{key:"_writeString",value:function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}}]),e}()),re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Y["a"])(this,e),this.beforeRecording=t.beforeRecording,this.pauseRecording=t.pauseRecording,this.afterRecording=t.afterRecording,this.micFailed=t.micFailed,this.format=t.format,this.encoderOptions={bitRate:t.bitRate,sampleRate:t.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this.wavSamples=[],this._duration=0}return Object(Z["a"])(e,[{key:"start",value:function(){var e={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(e).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this._isMp3()&&!this.lameEncoder&&(this.lameEncoder=new te(this.encoderOptions))}},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()})),this.input.disconnect(),this.processor.disconnect(),this.context.close();var e=null;if(this._isMp3())e=this.lameEncoder.finish();else{var t=new ne({bufferSize:this.bufferSize,sampleRate:this.encoderOptions.sampleRate,samples:this.wavSamples});e=t.finish(),this.wavSamples=[]}e.duration=M(this.duration),this.records.push(e),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(e)}},{key:"pause",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()})),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}},{key:"recordList",value:function(){return this.records}},{key:"lastRecord",value:function(){return this.records.slice(-1).pop()}},{key:"_micCaptured",value:function(e){var t=this;this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(e),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=e,this.processor.onaudioprocess=function(e){var n=e.inputBuffer.getChannelData(0),r=0;t._isMp3()?t.lameEncoder.encode(n):t.wavSamples.push(new Float32Array(n));for(var i=0;i<n.length;++i)r+=n[i]*n[i];t.duration=parseFloat(t._duration)+parseFloat(t.context.currentTime.toFixed(2)),t.volume=Math.sqrt(r/n.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"_micError",value:function(e){this.micFailed&&this.micFailed(e)}},{key:"_isMp3",value:function(){return"mp3"===this.format.toLowerCase()}}]),e}(),ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("icon-button",{staticClass:"ar-icon ar-icon__xs ar-icon--no-border",attrs:{name:"save"},nativeOn:{click:function(t){return e.upload(t)}}})},oe=[],se={props:{filename:{type:String,default:"record"},format:{type:String,default:"mp3"},headers:{type:Object,default:function(){return{}}},uploadUrl:{type:String}}},ae=n("bc3a"),ce=n.n(ae),ue={mixins:[se],props:{record:{type:Object}},components:{IconButton:B},methods:{upload:function(){var e=this;if(this.record.url){this.$eventBus.$emit("start-upload");var t=new FormData;t.append("audio",this.record.blob,"".concat(this.filename,".mp3"));var n=Object.assign(this.headers,{});n["Content-Type"]="multipart/form-data; boundary=".concat(t._boundary),ce.a.post(this.uploadUrl,t,{headers:n}).then((function(t){e.$eventBus.$emit("end-upload",{status:"success",response:t}),h["a"].push("/interview")})).catch((function(t){e.$eventBus.$emit("end-upload",{status:"fail",response:t})}))}}}},le=ue,de=(n("7975"),Object(c["a"])(le,ie,oe,!1,null,null,null)),he=de.exports,fe={mixins:[se],props:{attempts:{type:Number},time:{type:Number},bitRate:{type:Number,default:128},sampleRate:{type:Number,default:44100},showDownloadButton:{type:Boolean,default:!0},showUploadButton:{type:Boolean,default:!0},micFailed:{type:Function},beforeRecording:{type:Function},pauseRecording:{type:Function},afterRecording:{type:Function},failedUpload:{type:Function},beforeUpload:{type:Function},successfulUpload:{type:Function},selectRecord:{type:Function}},data:function(){return{isUploading:!1,recorder:this._initRecorder(),recordList:[],selected:{},uploadStatus:null}},components:{AudioPlayer:D,Downloader:G,IconButton:B,Uploader:he},mounted:function(){var e=this;this.$eventBus.$on("start-upload",(function(){e.isUploading=!0,e.beforeUpload&&e.beforeUpload("before upload")})),this.$eventBus.$on("end-upload",(function(t){e.isUploading=!1,"success"===t.status?e.successfulUpload&&e.successfulUpload(t.response):e.failedUpload&&e.failedUpload(t.response)}))},beforeDestroy:function(){this.stopRecorder()},methods:{toggleRecorder:function(){this.attempts&&this.recorder.records.length>=this.attempts||(!this.isRecording||this.isRecording&&this.isPause?this.recorder.start():this.recorder.pause())},stopRecorder:function(){this.isRecording&&(this.recorder.stop(),this.recordList=this.recorder.recordList())},removeRecord:function(e){this.recordList.splice(e,1),this.$set(this.selected,"url",null),this.$eventBus.$emit("remove-record")},choiceRecord:function(e){this.selected!==e&&(this.selected=e,this.selectRecord&&this.selectRecord(e))},_initRecorder:function(){return new re({beforeRecording:this.beforeRecording,afterRecording:this.afterRecording,pauseRecording:this.pauseRecording,micFailed:this.micFailed,bitRate:this.bitRate,sampleRate:this.sampleRate,format:this.format})}},computed:{attemptsLeft:function(){return this.attempts-this.recordList.length},iconButtonType:function(){return this.isRecording&&this.isPause?"mic":this.isRecording?"pause":"mic"},isPause:function(){return this.recorder.isPause},isRecording:function(){return this.recorder.isRecording},recordedTime:function(){return this.time&&this.recorder.duration>=60*this.time&&this.stopRecorder(),M(this.recorder.duration)},volume:function(){return parseFloat(this.recorder.volume)}}},pe=fe,me=(n("6770"),Object(c["a"])(pe,N,V,!1,null,null,null)),ve=me.exports,ge={AudioPlayer:D,AudioRecorder:ve,install:function(e){this.installed||(this.installed=!0,e.prototype.$eventBus=e.prototype.$eventBus||new e,e.component("audio-player",D),e.component("audio-recorder",ve))}},be=ge;r["a"].use(be),r["a"].config.productionTip=!1,r["a"].use(m.a),r["a"].use(v["a"]),r["a"].use(g["a"]),new r["a"]({router:h["a"],store:f["a"],render:function(e){return e(l)}}).$mount("#app")},"5ab8":function(e,t,n){"use strict";var r=n("45ff"),i=n.n(r);i.a},6770:function(e,t,n){"use strict";var r=n("4a3a"),i=n.n(r);i.a},7975:function(e,t,n){"use strict";var r=n("09c7"),i=n.n(r);i.a},a18c:function(e,t,n){"use strict";n("d3b7");var r=n("2b0e"),i=n("8c4f"),o=n("4360");r["a"].use(i["a"]);var s=[{path:"/",name:"Home",redirect:"/category",component:function(){return n.e("chunk-cda9ee92").then(n.bind(null,"a3ca"))},children:[{path:"category",name:"Category",component:function(){return n.e("chunk-590816fd").then(n.bind(null,"12aa"))}},{path:"testmic",name:"TestMIC",component:function(){return n.e("chunk-2d22ce66").then(n.bind(null,"f4ce"))}},{path:"interview",name:"Interview",component:function(){return n.e("chunk-10cf3a28").then(n.bind(null,"611f"))}},{path:"detail",name:"detail",component:function(){return n.e("chunk-4b15cef0").then(n.bind(null,"af4c"))}},{path:"wrongAnswerNote",name:"wrongAnswerNote",component:function(){return n.e("chunk-3dacd396").then(n.bind(null,"a9bf"))}},{path:"mynote",name:"mynote",component:function(){return n.e("chunk-4b71a822").then(n.bind(null,"557a"))}}]},{path:"/login",name:"login",component:function(){return n.e("chunk-876195c4").then(n.bind(null,"a55b"))}},{path:"/admin",name:"Admin",redirect:"/admin/user",component:function(){return n.e("chunk-f3bbfc64").then(n.bind(null,"3530"))},children:[{path:"user",name:"User",component:function(){return n.e("chunk-8ae097a8").then(n.bind(null,"1511"))}},{path:"make",name:"MakeQuestion",component:function(){return n.e("chunk-3104d895").then(n.bind(null,"8b39"))}},{path:"edit",name:"EditQuestion",component:function(){return n.e("chunk-deddea6c").then(n.bind(null,"6ccd"))}}]}],a=new i["a"]({mode:"history",base:"/",routes:s,scrollBehavior:function(e,t,n){return{x:0,y:0}}});a.beforeEach((function(e,t,n){if(null===sessionStorage.getItem("vue-session-key"))return"/login"===e.path?n():n("/login");var r=JSON.parse(sessionStorage.getItem("vue-session-key"))["jwt"],i=!1;if(void 0===r)return"/login"===e.path?n():n("/login");o["a"].dispatch("loginCheck",r),setTimeout((function(){return i=o["a"].getters.getUserInfo,null===i?"/login"===e.path?n():n("/login"):"/login"===e.path?n("/"):n()}),300)})),t["a"]=a},c1fb:function(e,t,n){"use strict";var r=n("bc3a"),i=n.n(r),o=n("da71");t["a"]=i.a.create({baseURL:o["a"],headers:{"Content-type":"application/json"}})},da71:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="https://k02b1011.p.ssafy.io"},e0ff:function(e,t,n){},e68c:function(e,t,n){}});
//# sourceMappingURL=app.1748a3d0.js.map